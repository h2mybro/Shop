<!DOCTYPE html>
<html xmlns:th = "http://www.thymeleaf.org"
    xmlns:layout = "http://www.ultrap.net.nz/thymeleaf/layout">
    <head>
        <meta charset="utf-8">
        <title>Choo War</title>

        <!-- CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
        <link th:href="@{/css/style.css}" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <script>

            $(document).ready(function() {

                $("#signin_button").click(function() {

                    if($("#userid").val() == '') {
                        alert("아이디를 입력하세요.");
                        $("#userid").focus();
                        return false;
                    }

                    if($("#username").val() == '') {
                        alert("이름을 입력하세요.");
                        $("#username").focus();
                        return false;
                    }

                });

            });

        </script>

        <script>

            function pwSearchCheck(){
                if($("#userid").val() == "") {
                    alert("아이디를 입력하세요."); 
                    $("#email").focus();  
                    return false; 

                }

                if($("#username").val() == '') { 
                    alert("이름을 입력하세요."); 
                    $("#username").focus(); 
                    return false; 

                }
                $("#pwSearchForm").attr("action", "/member/searchPassword").submit();

            }
            
        </script>

    </head>
    <body>
        
        <div th:replace = "fragments/headerLogin::header"></div>

        <div class="login-wrap">
            <div class="login-html">
                <input id="tab-1" type="radio" name="tab" onclick="location.href='/member/login/'" class="sign-in" checked><label for="tab-1" class="tab">Sign In</label>
                <input id="tab-2" type="radio" name="tab" onclick="location.href='/member/signup'" class="sign-up"><label for="tab-2" class="tab">Sign Up</label>   
                
                <div class="login-form">

                    <form name="pwSearchForm" id="pwSearchForm" method="post">

                        <div class="sign-in-htm">

                            <div class="group">
                            <label for="user" class="label">User email</label>
                            <input id="userid" name="userid" type="email" class="input">
                            </div>

                            <div class="group">
                            <label for="pass" class="label">User Name</label>
                            <input id="username" name="username" type="text" class="input">
                            </div>            

                            <p th:if="${msg == 'PASSWORD_NOT_FOUND'}" style="text-align: center; color:red;">입력한 조건에 맞는 사용자가 존재하지 않습니다. 다시 입력하세요 !!!</p>

                            <div class="group">
                            <input type="submit" id="btn_pwSearch" name="btn_pwSearch" class="btn_pwSearch" value="임시 패스워드 발급" onclick="pwSearchCheck()">
                            </div>
                            
                            <div class="hr"></div>
                            
                            <div class="foot-lnk">
                                <a href="" class ="fp"> Forgot Password? </a>
                            </div>

                        </div>

                    </form>

                </div>
            </div>
        </div>

        <div th:replace = "fragments/footer::footer"></div>

    </body>
</html>
